---
- vsphere_guest:
    vcenter_hostname: vcenter67.prodevans.internal
    username: administrator@vsphere.local
    password: Redhat@123
    guest: newvm001
    state: powered_on
    validate_certs: no
    vm_extra_config:
      vcpu.hotadd: yes
      mem.hotadd:  yes
      notes: This is a test VM
#      folder: MyFolder
    vm_disk:
      disk1:
        size_gb: 10
        type: thin
        datastore: datastore1
#        folder: production/customerA/lamp
    vm_nic:
      nic1:
        type: vmxnet3
        network: VM Network
        network_type: standard
#      nic2:
#        type: vmxnet3
#        network: dvSwitch Network
#        network_type: dvs
    vm_hardware:
      memory_mb: 2048
      num_cpus: 2
      osid: centos7_64Guest
      scsi: paravirtual
      vm_cdrom:
        type: "iso"
        iso_path: "datastore1/ISO/Centos7image.iso"
#      vm_floppy:
#        type: "image"
#        image_path: "DatastoreName/floppy-image.flp"
    esxi:
      datacenter: Datacenter
      hostname: 192.168.10.50
  delegate_to: localhost
